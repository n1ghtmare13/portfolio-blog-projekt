---
// File: src/components/Meta.astro

import { ClientRouter } from 'astro:transitions';

import { SEO } from 'astro-seo';
import Favicons from './Favicons.astro';
import Analytics from './Analytics.astro';

export interface Props {
  title: string;
  description: string;
  noIndex?: boolean;
  ogImage?: URL;
  ogType?: 'website' | 'article';
}

const {
  title,
  description,
  noIndex = false,
  ogImage,
  ogType = 'website',
} = Astro.props;
---

<!-- Basic meta tags -->
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<ClientRouter />

<SEO
  title={title}
  description={description}
  titleTemplate="%s | Jacek Kucharski - Web Developer"
  titleDefault="Devfolio"
  noindex={noIndex}
  nofollow={noIndex}
  openGraph={{
    basic: {
      title: title,
      type: ogType,
      image: ogImage
        ? ogImage.href
        : new URL('/web-app-manifest-512x512.png', Astro.site).href,
    },
    optional: {
      siteName: 'Devfolio - Jacek Kucharski',
    },
    image: {
      alt: title,
      width: 512,
      height: 512,
    },
  }}
  twitter={{
    card: 'summary',
  }}
/>

<Favicons />
<Analytics />
